(function(g){var h={},c,f=750,d="ontouchend" in document;function a(i){return"tagName" in i?i:i.parentNode}function b(j,i,l,k){var n=Math.abs(j-i),m=Math.abs(l-k);return n>=m?(j-i>0?"Left":"Right"):(l-k>0?"Up":"Down")}function e(){if(h.last&&Date.now()-h.last>=f){h.el.trigger("longTap");h={}}}g(document).ready(function(){var k,m,i=d?"touchstart":"mousedown",j=d?"touchmove":"mousemove",l=d?"touchend":"mouseup";document.body.addEventListener(i,function(n){k=Date.now();m=k-(h.last||k);h.el=g(a(d?n.touches[0].target:n.target));c&&window.clearTimeout(c);h.x1=d?n.touches[0].pageX:n.pageX;h.y1=d?n.touches[0].pageY:n.pageY;if(m>0&&m<=250){h.isDoubleTap=true}h.last=k;window.setTimeout(e,f)},false);document.body.addEventListener(j,function(n){h.x2=d?n.touches[0].pageX:n.pageX;h.y2=d?n.touches[0].pageY:n.pageY;if(Math.abs(h.x1-h.x2)>10){n.preventDefault()}},false);document.body.addEventListener(l,function(n){if(h.isDoubleTap){h.el.trigger("doubleTap");h={}}else{if((h.x2&&Math.abs(h.x1-h.x2)>30)||(h.y2&&Math.abs(h.y1-h.y2)>30)){h.el.trigger("swipe");h.el.trigger("swipe"+(b(h.x1,h.x2,h.y1,h.y2)));h={}}else{if("last" in h){c=window.setTimeout(function(){c=null;h.el.trigger("tap");h={}},250)}}}},false);document.body.addEventListener("touchcancel",function(){h={}},false)});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","longTap"].forEach(function(i){g.fn[i]=function(j){return this.bind(i,j)}})})(this.Zepto||this.jQuery);